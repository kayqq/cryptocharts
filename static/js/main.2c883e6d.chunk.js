(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,n){e.exports=n(67)},31:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(19),i=n.n(r),s=(n(31),n(24)),c=n(1),u=n.n(c),l=n(10),d=n(8),m=n(3),p=n(4),f=n(6),v=n(5),g=n(7),h=n(20),b=n.n(h),y=n(21),C=n.n(y).a.create({baseURL:"https://api.coingecko.com/api/v3"}),E=function(){var e=Object(d.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.get("/coins/list");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(d.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.get("/coins/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(d.a)(u.a.mark(function e(t){var n,a,o,r=arguments;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:"usd",a=r.length>2&&void 0!==r[2]?r[2]:"365",e.next=4,C.get("/coins/".concat(t,"/market_chart?vs_currency=").concat(n,"&days=").concat(a));case 4:return o=e.sent,e.abrupt("return",o.data.prices);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),S=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){var e=n.props;(0,e.addCoin)(e.suggestion.id)},n.renderButton=function(){return n.props.coinExists?o.a.createElement("span",{onClick:n.handleClick,className:"coin-added-button"}):o.a.createElement("span",{onClick:n.handleClick,className:"add-coin-button"})},n}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.suggestion,t=e.symbol,n=e.name;return o.a.createElement("div",{className:"suggestion",onClick:this.handleClick},o.a.createElement("div",{className:"suggestion-left"},o.a.createElement("div",{className:"suggestion-symbol"},t.toUpperCase()),o.a.createElement("div",{className:"suggestion-full-name"},n)),o.a.createElement("div",{className:"suggestion-right"},this.renderButton()))}}]),t}(o.a.Component),O=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={value:"",suggestions:[],allCoins:[]},n.fetchSuggestions=Object(d.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n,e.next=3,E();case 3:e.t1=e.sent,e.t2={allCoins:e.t1},e.t0.setState.call(e.t0,e.t2);case 6:case"end":return e.stop()}},e)})),n.onChange=function(e,t){var a=t.newValue;n.setState({value:a})},n.onSuggestionsFetchRequested=function(e){var t=e.value.trim().toLowerCase(),a=t.length,o=n.state.allCoins,r=0===a?[]:o.filter(function(e){return a<4?e.symbol.toLowerCase().slice(0,a)===t:e.symbol.toLowerCase().slice(0,a)===t||e.name.toLowerCase().slice(0,a)===t}).slice(0,5);n.setState({suggestions:r})},n.getSuggestionValue=function(e){return e.symbol.trim().toUpperCase()},n.onSuggestionSelected=function(){n.setState({value:""})},n.renderSuggestion=function(e,t){t.isHighlighted;var a=n.props,r=a.coins,i=a.addCoin,s=r.map(function(e){return e.symbol}).some(function(t){return t===e.symbol.trim().toLowerCase()});return o.a.createElement(S,{coinExists:s,suggestion:e,addCoin:i})},n.renderInputComponent=function(e){return o.a.createElement("div",{className:"input-container"},o.a.createElement("span",{className:"search-icon"}),o.a.createElement("input",e))},n.onSuggestionsClearRequested=function(){n.setState({suggestions:[]})},n}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentWillMount",value:function(){this.fetchSuggestions()}},{key:"render",value:function(){var e=this.state,t=e.value,n=e.suggestions,a={placeholder:"Search for a coin",value:t,onChange:this.onChange};return o.a.createElement(b.a,{suggestions:n,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested,getSuggestionValue:this.getSuggestionValue,onSuggestionSelected:this.onSuggestionSelected,renderSuggestion:this.renderSuggestion,renderInputComponent:this.renderInputComponent,inputProps:a})}}]),t}(a.PureComponent),j=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).dragStartX=0,n.left=0,n.dragged=!1,n.isOffset=!1,n.deleteThreshold=.9,n.fpsInterval=1e3/60,n.onRemoveCoin=function(){var e=n.props;(0,e.removeCoin)(e.coin.id)},n.onToggleVisibility=function(){var e=n.props;(0,e.toggleVisibility)(e.coin.id)},n.renderButtons=function(){var e="on"===n.props.coin.visibility?"coin-view-show-button coin-button":"coin-view-hidden-button coin-button";return o.a.createElement("div",{className:"buttons"},o.a.createElement("span",{className:e,onClick:n.onToggleVisibility}),o.a.createElement("span",{className:"coin-remove-button coin-button",onClick:n.onRemoveCoin}))},n.renderColorTab=function(){var e=n.props.coin,t=e.display,a=e.color;return t?o.a.createElement("div",{className:"color-tab",ref:"colorTab",style:{backgroundColor:a}}):null},n.onDragStartMouse=function(e){n.onDragStart(e.clientX),window.addEventListener("mousemove",n.onMouseMove)},n.onDragStartTouch=function(e){var t=e.targetTouches[0];n.onDragStart(t.clientX),window.addEventListener("touchmove",n.onTouchMove)},n.onDragStart=function(e){n.dragged=!0,n.dragStartX=e,n.startTime=Date.now(),requestAnimationFrame(n.updatePosition)},n.onDragEndMouse=function(e){window.removeEventListener("mousemove",n.onMouseMove),n.onDragEnd()},n.onDragEndTouch=function(e){window.removeEventListener("touchmove",n.onTouchMove),n.onDragEnd()},n.onDragEnd=function(){var e=n.refs.coin,t=n.isOffset?.33*e.offsetWidth:0,a=n.left-t;n.dragged&&(n.dragged=!1,a<=e.offsetWidth*n.deleteThreshold*-1?(e.style.transition="transform 0.5s ease-out",n.left=2*-e.offsetWidth,n.onSwiped()):n.left=0,e.style.transform="translateX(".concat(n.left,"px)"))},n.onMouseMove=function(e){var t=e.clientX-n.dragStartX;t<0&&(n.left=t)},n.onTouchMove=function(e){var t=e.targetTouches[0].clientX-n.dragStartX;t<0&&(n.left=t)},n.updatePosition=function(){var e=n.refs,t=e.coin,a=e.coinFlyIn,o=e.colorTab;n.dragged&&requestAnimationFrame(n.updatePosition);var r=Date.now()-n.startTime;if(n.dragged&&r>n.fpsInterval){var i=n.isOffset?.33*t.offsetWidth:0,s=n.left-i;s<0&&s>=-t.offsetWidth&&(t.style.transform="translateX(".concat(n.left,"px)")),s<=.9*t.offsetWidth*-1?(o.style.backgroundColor="grey",a.style.backgroundColor="grey"):(o.style.backgroundColor=n.props.coin.color,a.style.backgroundColor=n.props.coin.color),n.startTime=Date.now()}},n.onClicked=function(){console.log("deleted")},n.onSwiped=function(){var e=n.props,t=e.coin;(0,e.removeCoin)(t.id)},n}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.refs,n=t.coin,a=t.coinContainer,o=t.coinFlyIn,r=a.offsetWidth;o.style.transform="translate3d(".concat(r,"px, 0, 0)"),o.style.display="flex",this.resizeEvent=function(){r=o.offsetWidth,o.style.transform="translate3d(".concat(r,"px, 0, 0)")},this.mouseoverEvent=function(){o.style.transform="translate3d(".concat(.66*r,"px, 0, 0)"),a.style.transform="translate3d(".concat(.33*-r,"px, 0, 0)"),e.isOffset=!0},this.mouseoutEvent=function(){o.style.transform="translate3d(".concat(r,"px, 0, 0)"),a.style.transform="translate3d(0, 0, 0)",e.isOffset=!1},window.addEventListener("resize",this.resizeEvent),n.addEventListener("mouseover",this.mouseoverEvent),n.addEventListener("mouseout",this.mouseoutEvent),window.addEventListener("mouseup",this.onDragEndMouse),window.addEventListener("touchend",this.onDragEndTouch)}},{key:"componentWillUnmount",value:function(){var e=this.refs.coin;window.removeEventListener("resize",this.resizeEvent),e.removeEventListener("mouseover",this.mouseoverEvent),e.removeEventListener("mouseout",this.mouseoutEvent),window.removeEventListener("mouseup",this.onDragEndMouse),window.removeEventListener("touchend",this.onDragEndTouch)}},{key:"render",value:function(){var e=this.props.coin,t=e.symbol,n=e.color,a=e.name,r=e.price,i=e.changePercent,s=i>0?"#1BCEA2":"#FF5722";return o.a.createElement("div",{className:"Coin",ref:"coin",onMouseDown:this.onDragStartMouse,onTouchStart:this.onDragStartTouch},o.a.createElement("div",{className:"coin-container",ref:"coinContainer"},o.a.createElement("div",{className:"coin-left"},o.a.createElement("div",{className:"coin-symbol"},t.toUpperCase()),o.a.createElement("div",{className:"coin-full-name"},a)),o.a.createElement("div",{className:"coin-right"},o.a.createElement("div",{className:"coin-price",style:{color:s}},"$".concat(r.toFixed(2))),o.a.createElement("div",{className:"coin-changePercent",style:{color:s}},"".concat(i.toFixed(2)," %")))),this.renderColorTab(),o.a.createElement("div",{className:"coin-fly-in",style:{backgroundColor:n},ref:"coinFlyIn"},this.renderButtons()))}}]),t}(o.a.PureComponent),x=function(e){function t(){return Object(m.a)(this,t),Object(f.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.coins,n=e.addCoin,a=e.removeCoin,r=e.toggleVisibility;return o.a.createElement("div",{className:"CoinList"},o.a.createElement(O,{coins:t,addCoin:n}),o.a.createElement("div",{className:"title"},"Coins"),t.map(function(e){return o.a.createElement(j,{key:e.symbol,coin:e,removeCoin:a,toggleVisibility:r})}))}}]),t}(o.a.PureComponent),F=n(22),N=n.n(F),D=n(23),T=n.n(D),A=(n(66),function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(f.a)(this,Object(v.a)(t).call(this,e))).state={chartOptions:{rangeSelector:{selected:3,enabled:!1},scrollbar:{height:4,liveRedraw:!0},tooltip:{style:{color:"#9AA5BC",cursor:"default",fontSize:"12px",pointerEvents:"none",whiteSpace:"nowrap"},pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y:.2f}</b><br/>',valueDecimals:2},xAxis:{labels:{style:{color:"#9AA5BC",fontFamily:"'Avenir-Next-Regular', Verdana, Geneva, sans-serif;"}}},yAxis:{labels:{format:"$ {value}",style:{color:"#9AA5BC",fontFamily:"'Avenir-Next-Regular', Verdana, Geneva, sans-serif;"}}}}},n}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=Object(l.a)({},this.state.chartOptions,{series:this.props.coins.filter(function(e){return e.display})});return o.a.createElement("div",{id:"Graph"},o.a.createElement(T.a,{containerProps:{className:"Graph"},highcharts:N.a,constructorType:"stockChart",options:e,allowChartUpdate:!0,updateArgs:[!0,!0,!0]}))}}]),t}(a.PureComponent)),L=["#FF1744","#D500F9","#00E676","#00E5FF","#FFEA00","#3D5AFE","#F50057","#651FFF","#1DE9B6","#C6FF00","#FF3D00","#00B0FF","#76FF03","#FFC400"],M=0,P=function(){var e=L[M];return L.length===M+1?M=0:M++,e},V=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(f.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(o)))).state={coins:[],tick:0},n.buildMeta=function(e){return{id:e.id,symbol:e.symbol,name:e.name,color:P(),display:!0}},n.buildQuote=function(e){var t=e.market_data;return{price:t.current_price.usd||0,change:t.price_change_24h||0,changePercent:t.price_change_percentage_24h_in_currency.usd||0}},n.getCoin=function(){var e=Object(d.a)(u.a.mark(function e(t){var a,o,r,i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=k(t),e.next=3,w(t);case 3:return o=e.sent,r=n.buildMeta(o),i=n.buildQuote(o),e.t0=l.a,e.t1={},e.t2=r,e.t3=i,e.next=12,a;case 12:return e.t4=e.sent,e.t5={data:e.t4},e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3,e.t5));case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.addCoin=function(){var e=Object(d.a)(u.a.mark(function e(t){var a,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.state.coins,a.some(function(e){return e.id===t})){e.next=7;break}return e.next=5,n.getCoin(t);case 5:o=e.sent,n.setState({coins:[o].concat(Object(s.a)(a))});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.removeCoin=function(e){var t=n.state.coins;n.setState({coins:t.filter(function(t){return t.id!==e})})},n.updateCoins=Object(d.a)(u.a.mark(function e(){var t,a,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state.coins,e.next=3,Promise.all(t.map(function(e){return k(e.id)}));case 3:a=e.sent,o=t.map(function(e,t){return e.data=a[t],e}),n.setState({coins:o});case 6:case"end":return e.stop()}},e)})),n.toggleVisibility=function(e){var t=n.state.coins;n.setState({coins:t.map(function(t){return t.id===e&&(t.display=!t.display),t})})},n.initApp=Object(d.a)(u.a.mark(function e(){var t,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=["bitcoin","litecoin","ethereum","ripple"],e.next=3,Promise.all(t.map(function(e){return n.getCoin(e)}));case 3:a=e.sent,n.setState({initLoad:!0,coins:a});case 5:case"end":return e.stop()}},e)})),n.initUpdateTimer=function(){n.updateInterval=setInterval(function(){n.setState({tick:n.state.tick+1}),n.state.tick>=10&&(n.updateCoins(),n.setState({tick:0}))},1e3)},n.componentDidMount=Object(d.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.initApp(),n.initUpdateTimer();case 2:case"end":return e.stop()}},e)})),n}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentWillUnmount",value:function(){clearInterval(this.updateInterval)}},{key:"render",value:function(){var e=this.state.coins;return o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"container-graph"},o.a.createElement(A,{coins:e})),o.a.createElement("div",{className:"container-coinlist"},o.a.createElement(x,{coins:e,addCoin:this.addCoin,removeCoin:this.removeCoin,toggleVisibility:this.toggleVisibility})))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(V,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[25,1,2]]]);
//# sourceMappingURL=main.2c883e6d.chunk.js.map